<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
	<link rel="stylesheet" media="screen" href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="//cdn.datatables.net/plug-ins/505bef35b56/integration/bootstrap/3/dataTables.bootstrap.css">
	
	<script type="text/javascript" language="javascript" src="//code.jquery.com/jquery-1.10.2.min.js"></script>
	<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
	<script type="text/javascript" language="javascript" src="//cdn.datatables.net/1.10.0-beta.2/js/jquery.dataTables.js"></script>
	<script type="text/javascript" language="javascript" src="//cdn.datatables.net/plug-ins/505bef35b56/integration/bootstrap/3/dataTables.bootstrap.js"></script>
	<script>
		$(document).ready(function() {
			// $('#example tfoot th').each( function () {
        		// var title = $('#example thead th').eq( $(this).index() ).text();
        		// $(this).html( '<input type="text" placeholder="Search '+title+'" />' );
    		// });
			
			var table = $('#example').DataTable({
				"ajax" : "http://localhost:3000/runs/1.json",
				"columns" : [{
					"data" : "id"
				}, {
					"data" : "description"
				}, {
					"data" : "status"
				}, {
					"data" : function getNameAndEmail(data, type, dataToSet) {
						return '<div class="row"><div class="col-md-2"><span class="label label-success">1</span>' +
						 '</div><div class="col-md-2">' +
						  '<span class="label label-warning">2</span>' +
						   '</div><div class="col-md-2">' +
						    '<span class="label label-danger">3</span></div></div>';
					}
				}, {
					"data" : "created_at"
				}, {
					"data" : "duration"
				}, {
					"data" : "notes"
				}, {
					"data" : function getNameAndEmail(data, type, dataToSet) {
						return data.browser + "<br>" + data.browser_version + "<br>" + data.os;
					}
				}]
			});
			
			

		    $('#button').click( function () {
		        alert( table.rows('.selected').data().length +' row(s) selected' );
		    } );

		    // $("#example tfoot input").on( 'keyup change', function () {
		        // table
		            // .column( $(this).parent().index()+':visible' )
		            // .search( this.value )
		            // .draw();
		    // } );
		    
		   	// $('#example tbody').on( 'click', 'tr', function () {
		        // $(this).toggleClass('selected');
		    // } );

			setInterval(function() {
				table.ajax.reload();
			}, 3000);

		});
	</script>

</head>
<div class="container">
	<table id="example" class="table table-striped table-bordered" cellspacing="0" width="100%">
		<thead>
			<tr>
				<th>ID</th>
				<th>Description</th>
				<th>Status</th>
				<th>Pass<br/>Fail<br/>Pending</th>
				<th>Start</th>
				<th>Duration</th>
				<th>Notes</th>
				<th>OS<br/>Browser<br />Version</th>
			</tr>
		</thead>

		<tfoot>
			<tr>
				<th>ID</th>
				<th>Description</th>
				<th>Status</th>
				<th>Pass/Fail/Pending</th>
				<th>Start</th>
				<th>Duration</th>
				<th>Notes</th>
				<th>OS/Browser/Version</th>
			</tr>
		</tfoot>
	</table>
	

<div class="row">
<div class="col-md-1">
			<span class="label label-success">23</span>
		</div>
		<div class="col-md-1">
			<span class="label label-warning">0</span>
		</div>
		<div class="col-md-1">
			<span class="label label-danger">1</span>
		</div>
</div>

